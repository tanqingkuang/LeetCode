# 问题

1、没有考虑到如何二分找到边界
2、二分法找右边界的时候，死循环了
3、没有做入参异常判断
4、找做边界的时候mid=-1，但是没有判断就作为下标了

其中1、3两条可以作为普通案例，增长经验就好，2、4则说明了自己对二分法其实并没有完全吃透

# 具体分析

**1、二分法找右边界的时候，死循环了**

核心原因是while循环的判断条件是left<right，那么就有可能导致right==left+1，而此时使用mid = (left + right) >> 1时，mid==left
并且此时while中存在left=mid的更新条件，从而使得left实际没有赋值。

这个死循环实际上是二分法常见的一个问题，避免该问题需要让mid = (left + right+1) >> 1。

值得注意的是，并非所有循环都能使用mid = (left + right + 1) >> 1，当while循环中存在right=mid时，就不能使用该方法，所以mid的具体取值需要具体问题具体分析

**2、找做边界的时候mid=-1，但是没有判断就作为下标了**

核心原因是while循环的判断条件是left<right，那么在退出时就有可能使得left = 0，right=-1，此时mid=-1，从而导致问题

解决该问题是最后不再使用mid来判别，而是使用left来判别